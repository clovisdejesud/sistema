<!DOCTYPE html> <!<!-- colaborador-atividade-listagem -->
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Alocações</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <!-- Favicon -->
        <link href="./img/favicon.ico" rel="icon" type="image/x-icon">
        <link rel="stylesheet" href="/css/estilos.css">


        <!-- Opcionais || Dever de casa: pesquisar por práticas SEO na web -->
         <meta name="keywords" content="Cursos, Vunerabilidade, Carencia">
        <meta name="description" content="O CELM disponibiliza as famílias carentes apoio educacional, social e saúde.">
        <meta name="author" content="Clovis de Jesus">
</head>
<body>
     <nav class="menu-nav">        
            <a href="/">Página Inicial</a>
                <div class="menu-item dropdown">
                    <a href="#">Cadastrar</a>
                    <div class="dropdown-content">
                        <sec:authorize access="hasAnyRole('Administrador','Usuario')">
                            <a th:href="@{/individuo/cadastro}">Individuo</a>
                        </sec:authorize>
                        <div sec:authorize="hasRole('Administrador', 'Colaborador')">
                            <a href="/colaborador/cadastro">Colaborador</a>
                        </div>
                        <sec:authorize access="hasRole('Administrador')">
                            <a th:href="@{/usuario/cadastro}">Usuário</a>
                        </sec:authorize>
                        <div sec:authorize="hasAnyRole('Administrador')">
                            <a href="/atividade/cadastro">Atividade</a>
                        </div>
                    </div>
                </div>
                <div class="menu-item dropdown">
                   <a href="#">Relatórios</a>
                   <div class="dropdown-content">
                       <a th:href="@{/familia/lista}">Famílias</a>
                       <a th:href="@{/individuo/lista}">Indivíduos</a>
                       <a th:href="@{/usuario/lista}">Usuários</a>
                       <a th:href="@{/colaborador/lista}">Colaboradores</a>
                       <a th:href="@{/atividade/lista}">Atividades</a>
                       <a th:href="@{/colaborador/lista-com-atividades}">Alocações</a>
                   </div>             
               </div>          
        </nav>
            <div class="conteudo-centralizado">
                <h1>Relatório de Colaboradores Alocados</h1>
            </div>
    <table>
        <thead>
            <tr>
                <th>Colaborador</th>
                <th>Atividade</th>
                <th>Responsável</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="alocacao : ${alocacoes}" class="linha-tracejada">
                <td th:text="${alocacao.id}"></td>
                <td th:text="${alocacao.colaborador.nome}">Nome</td>
                <td th:text="${alocacao.atividade.nomeAtividade}">Atividade</td>
                <td th:text="${alocacao.responsavel ? 'Sim' : 'Não'}">Responsável</td>
                <td>
                        <a th:href="@{'/colaboradorAlocacao/alterar/' + ${alocacao.id}}">Alterar</a>
                        <a th:href="@{'/colaboradorAlocacao/excluir/' + ${alocacao.id}}" 
                           onclick="return confirm('Tem certeza que deseja excluir esta alocação?');">Excluir</a>
                        <a th:href="@{/colaboradorAlocacao/alocar/{id}(id=${alocacao.atividade.id})}">Alocação</a>
                </td>   
            </tr>
        </tbody>
    </table>
</body>
</html>
